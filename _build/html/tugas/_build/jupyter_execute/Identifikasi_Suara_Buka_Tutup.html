
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Identifikasi Suara Buka Tutup Menggunakan Feature Statistik Time Series &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tugas/_build/jupyter_execute/Identifikasi_Suara_Buka_Tutup';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">My sample book</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        
    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Ftugas/_build/jupyter_execute/Identifikasi_Suara_Buka_Tutup.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/tugas/_build/jupyter_execute/Identifikasi_Suara_Buka_Tutup.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Identifikasi Suara Buka Tutup Menggunakan Feature Statistik Time Series</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-project">Deskripsi Project</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-1-import-library">Langkah 1: Import Library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-2-load-dan-eksplorasi-data-audio">Langkah 2: Load dan Eksplorasi Data Audio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-sample-audio">Visualisasi Sample Audio</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-3-fungsi-load-audio">Langkah 3: Fungsi Load Audio</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-4-ekstraksi-feature-statistik-time-series">Langkah 4: Ekstraksi Feature Statistik Time Series</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-5-ekstraksi-feature-spektral">Langkah 5: Ekstraksi Feature Spektral</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-6-pembuatan-dataset-dari-audio">Langkah 6: Pembuatan Dataset dari Audio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jalankan-ekstraksi-feature">Jalankan Ekstraksi Feature</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-7-eksplorasi-data-feature">Langkah 7: Eksplorasi Data Feature</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-distribusi-label">Visualisasi Distribusi Label</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribusi-feature-penting">Distribusi Feature Penting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#box-plot-deteksi-outliers">Box Plot - Deteksi Outliers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-matrix-hubungan-antar-feature">Correlation Matrix - Hubungan Antar Feature</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pair-plot-visualisasi-hubungan-antar-feature">Pair Plot - Visualisasi Hubungan Antar Feature</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ringkasan-eda">üìã Ringkasan EDA</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-7b-feature-selection">Langkah 7B: Feature Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-feature-scores">Visualisasi Feature Scores</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jalankan-feature-selection">Jalankan Feature Selection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-8-preprocessing-data">Langkah 8: Preprocessing Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-9-training-model-klasifikasi">Langkah 9: Training Model Klasifikasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-10-perbandingan-model">Langkah 10: Perbandingan Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-11-feature-importance-analysis">Langkah 11: Feature Importance Analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-12-save-model">Langkah 12: Save Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-13-prediksi-audio-baru">Langkah 13: Prediksi Audio Baru</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-14-kesimpulan-dan-ringkasan-hasil">Langkah 14: Kesimpulan dan Ringkasan Hasil</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ringkasan-dataset">Ringkasan Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-analisis-eda">Hasil Analisis EDA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performa-model">Performa Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-importance">Feature Importance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-selection">üîß Feature Selection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rekomendasi-pengembangan">üí° Rekomendasi Pengembangan</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplikasi-praktis">üöÄ Aplikasi Praktis</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workflow-guide-urutan-eksekusi-lengkap">üìã WORKFLOW GUIDE - Urutan Eksekusi Lengkap</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start-minimal-execution-path"><strong>üéØ QUICK START - Minimal Execution Path</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-workflow-step-by-step"><strong>üìö COMPLETE WORKFLOW - Step by Step</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-1-setup-ekstraksi-feature"><strong>FASE 1: SETUP &amp; EKSTRAKSI FEATURE</strong> ‚úÖ</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-2-exploratory-data-analysis-eda"><strong>FASE 2: EXPLORATORY DATA ANALYSIS (EDA)</strong> üìä</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-3-feature-selection"><strong>FASE 3: FEATURE SELECTION</strong> üîç</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-4-preprocessing-modeling"><strong>FASE 4: PREPROCESSING &amp; MODELING</strong> ü§ñ</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-5-evaluasi-kesimpulan"><strong>FASE 5: EVALUASI &amp; KESIMPULAN</strong> üìù</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contoh-kode-eksekusi-lengkap"><strong>‚ö° CONTOH KODE EKSEKUSI LENGKAP</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tips-best-practices"><strong>üí° TIPS &amp; BEST PRACTICES</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting"><strong>‚ùì TROUBLESHOOTING</strong></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="identifikasi-suara-buka-tutup-menggunakan-feature-statistik-time-series">
<h1>Identifikasi Suara Buka Tutup Menggunakan Feature Statistik Time Series<a class="headerlink" href="#identifikasi-suara-buka-tutup-menggunakan-feature-statistik-time-series" title="Link to this heading">#</a></h1>
<section id="deskripsi-project">
<h2>Deskripsi Project<a class="headerlink" href="#deskripsi-project" title="Link to this heading">#</a></h2>
<p>Tujuan proyek ini adalah menganalisis karakteristik sinyal audio, mengekstrak feature statistik dari data time series, serta membangun dan mengevaluasi model klasifikasi untuk membedakan suara buka dan tutup.</p>
</section>
<section id="tujuan">
<h2>Tujuan<a class="headerlink" href="#tujuan" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Menganalisis karakteristik sinyal audio dari suara buka dan tutup</p></li>
<li><p>Mengekstrak feature statistik dari time series audio</p></li>
<li><p>Membangun model klasifikasi untuk membedakan suara buka dan tutup</p></li>
<li><p>Mengevaluasi performa model klasifikasi</p></li>
</ol>
</section>
<section id="langkah-1-import-library">
<h2>Langkah 1: Import Library<a class="headerlink" href="#langkah-1-import-library" title="Link to this heading">#</a></h2>
<p>Import semua library yang diperlukan untuk analisis audio dan machine learning</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Library untuk manipulasi data</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Library untuk audio processing</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">librosa</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">librosa.display</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">soundfile</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sf</span>

<span class="c1"># Library untuk visualisasi</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="c1"># Library untuk machine learning</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span><span class="p">,</span> <span class="n">cross_val_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">StandardScaler</span><span class="p">,</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.svm</span><span class="w"> </span><span class="kn">import</span> <span class="n">SVC</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">,</span> <span class="n">accuracy_score</span>

<span class="c1"># Library untuk statistik</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy</span><span class="w"> </span><span class="kn">import</span> <span class="n">stats</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.fft</span><span class="w"> </span><span class="kn">import</span> <span class="n">fft</span><span class="p">,</span> <span class="n">fftfreq</span>

<span class="c1"># Pengaturan visualisasi</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;seaborn-v0_8-darkgrid&#39;</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_palette</span><span class="p">(</span><span class="s1">&#39;husl&#39;</span><span class="p">)</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-2-load-dan-eksplorasi-data-audio">
<h2>Langkah 2: Load dan Eksplorasi Data Audio<a class="headerlink" href="#langkah-2-load-dan-eksplorasi-data-audio" title="Link to this heading">#</a></h2>
<p><strong>Persiapan Data:</strong>
Pastikan file audio Anda sudah diorganisir dalam struktur folder:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>audio_data/
‚îú‚îÄ‚îÄ buka/     (file audio suara buka)
‚îî‚îÄ‚îÄ tutup/    (file audio suara tutup)
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Cek struktur folder audio</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>

<span class="n">audio_folder</span> <span class="o">=</span> <span class="s1">&#39;audio_data&#39;</span>  <span class="c1"># Sesuaikan dengan nama folder Anda</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üìÅ Mengecek folder: </span><span class="si">{</span><span class="n">audio_folder</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>

<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">audio_folder</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;buka&#39;</span><span class="p">,</span> <span class="s1">&#39;tutup&#39;</span><span class="p">]:</span>
        <span class="n">category_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">audio_folder</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">category_path</span><span class="p">):</span>
            <span class="n">audio_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">category_path</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚úÖ </span><span class="si">{</span><span class="n">category</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">audio_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> file audio&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ùå Folder &#39;</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&#39; tidak ditemukan&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚ùå Folder &#39;</span><span class="si">{</span><span class="n">audio_folder</span><span class="si">}</span><span class="s2">&#39; tidak ditemukan!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üí° Buat folder dengan struktur:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   audio_data/buka/  dan  audio_data/tutup/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="visualisasi-sample-audio">
<h3>Visualisasi Sample Audio<a class="headerlink" href="#visualisasi-sample-audio" title="Link to this heading">#</a></h3>
<p><strong>Catatan:</strong> Pastikan cell ‚ÄúCek struktur folder audio‚Äù di atas sudah dijalankan terlebih dahulu.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualisasi contoh audio dari setiap kategori</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">Audio</span><span class="p">,</span> <span class="n">display</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>

<span class="n">audio_folder</span> <span class="o">=</span> <span class="s1">&#39;audio_data&#39;</span>  <span class="c1"># Sesuaikan dengan nama folder Anda</span>

<span class="n">buka_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">audio_folder</span><span class="p">,</span> <span class="s1">&#39;buka&#39;</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">))</span>
<span class="n">tutup_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">audio_folder</span><span class="p">,</span> <span class="s1">&#39;tutup&#39;</span><span class="p">,</span> <span class="s1">&#39;*.*&#39;</span><span class="p">))</span>

<span class="k">if</span> <span class="n">buka_files</span> <span class="ow">and</span> <span class="n">tutup_files</span><span class="p">:</span>
    <span class="c1"># Load sample audio</span>
    <span class="n">sample_buka</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">load_audio</span><span class="p">(</span><span class="n">buka_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">sample_tutup</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">load_audio</span><span class="p">(</span><span class="n">tutup_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    
    <span class="c1"># Visualisasi</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    
    <span class="c1"># Waveform Buka</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">waveshow</span><span class="p">(</span><span class="n">sample_buka</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#2E86DE&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;üîµ Waveform - BUKA&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Amplitudo&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    
    <span class="c1"># Spectrogram Buka</span>
    <span class="n">D_b</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">amplitude_to_db</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">librosa</span><span class="o">.</span><span class="n">stft</span><span class="p">(</span><span class="n">sample_buka</span><span class="p">)),</span> <span class="n">ref</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">specshow</span><span class="p">(</span><span class="n">D_b</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="s1">&#39;hz&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;üîµ Spectrogram - BUKA&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    
    <span class="c1"># Waveform Tutup</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">waveshow</span><span class="p">(</span><span class="n">sample_tutup</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#EA2027&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;üî¥ Waveform - TUTUP&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Waktu (detik)&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Amplitudo&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    
    <span class="c1"># Spectrogram Tutup</span>
    <span class="n">D_t</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">amplitude_to_db</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">librosa</span><span class="o">.</span><span class="n">stft</span><span class="p">(</span><span class="n">sample_tutup</span><span class="p">)),</span> <span class="n">ref</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">specshow</span><span class="p">(</span><span class="n">D_t</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="s1">&#39;hz&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;üî¥ Spectrogram - TUTUP&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Waktu (detik)&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="c1"># Info</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìä Info Audio:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üîµ BUKA  - Durasi: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sample_buka</span><span class="p">)</span><span class="o">/</span><span class="n">sr</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s, File: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">buka_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üî¥ TUTUP - Durasi: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sample_tutup</span><span class="p">)</span><span class="o">/</span><span class="n">sr</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">s, File: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">tutup_files</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚ö†Ô∏è File audio tidak ditemukan. Pastikan folder sudah berisi file audio.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/ff96bd57390bad24eef563723945ea28c5dd8929c44e92a29bc597dcfaa8af6f.png" src="../../../_images/ff96bd57390bad24eef563723945ea28c5dd8929c44e92a29bc597dcfaa8af6f.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>üìä Info Audio:
üîµ BUKA  - Durasi: 0.93s, File: buka_029.wav
üî¥ TUTUP - Durasi: 1.82s, File: tutup_030.wav
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="langkah-3-fungsi-load-audio">
<h2>Langkah 3: Fungsi Load Audio<a class="headerlink" href="#langkah-3-fungsi-load-audio" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fungsi untuk memuat audio</span>
<span class="k">def</span><span class="w"> </span><span class="nf">load_audio</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">22050</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Memuat file audio dengan sampling rate tertentu</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    file_path : str</span>
<span class="sd">        Path ke file audio</span>
<span class="sd">    sr : int</span>
<span class="sd">        Sampling rate (default: 22050 Hz)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    audio : numpy array</span>
<span class="sd">        Sinyal audio</span>
<span class="sd">    sr : int</span>
<span class="sd">        Sampling rate</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">audio</span><span class="p">,</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">audio</span><span class="p">,</span> <span class="n">sr</span>

<span class="c1"># Contoh loading audio (sesuaikan dengan path file Anda)</span>
<span class="c1"># audio_buka, sr = load_audio(&#39;audio/suara_buka.wav&#39;)</span>
<span class="c1"># audio_tutup, sr = load_audio(&#39;audio/suara_tutup.wav&#39;)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi load_audio siap digunakan&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Format: audio, sr = load_audio(&#39;path/to/audio.wav&#39;)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi load_audio siap digunakan
Format: audio, sr = load_audio(&#39;path/to/audio.wav&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualisasi waveform</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_waveform</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Waveform&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualisasi bentuk gelombang audio</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">waveshow</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Waktu (detik)&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Amplitudo&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># plot_waveform(audio_buka, sr, &#39;Waveform Suara Buka&#39;)</span>
<span class="c1"># plot_waveform(audio_tutup, sr, &#39;Waveform Suara Tutup&#39;)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-4-ekstraksi-feature-statistik-time-series">
<h2>Langkah 4: Ekstraksi Feature Statistik Time Series<a class="headerlink" href="#langkah-4-ekstraksi-feature-statistik-time-series" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_time_series_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ekstraksi feature statistik dari time series audio</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    audio : numpy array</span>
<span class="sd">        Sinyal audio</span>
<span class="sd">    sr : int</span>
<span class="sd">        Sampling rate</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    features : dict</span>
<span class="sd">        Dictionary berisi berbagai feature statistik</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">features</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># 1. Feature Statistik Dasar</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;min&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;median&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;variance&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">var</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    
    <span class="c1"># 2. Feature Bentuk Distribusi</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;skewness&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">skew</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;kurtosis&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    
    <span class="c1"># 3. Feature Range</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;range&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ptp</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>  <span class="c1"># peak to peak</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;iqr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">stats</span><span class="o">.</span><span class="n">iqr</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>  <span class="c1"># interquartile range</span>
    
    <span class="c1"># 4. Feature Energy</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">audio</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;rms&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">audio</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>  <span class="c1"># Root Mean Square</span>
    
    <span class="c1"># 5. Zero Crossing Rate (tingkat perubahan tanda)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;zcr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">zero_crossing_rate</span><span class="p">(</span><span class="n">audio</span><span class="p">))</span>
    
    <span class="c1"># 6. Feature Temporal</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;duration&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span> <span class="o">/</span> <span class="n">sr</span>
    
    <span class="c1"># 7. Feature Gradient (perubahan amplitudo)</span>
    <span class="n">gradient</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">gradient</span><span class="p">(</span><span class="n">audio</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;mean_gradient&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">gradient</span><span class="p">))</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;max_gradient&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">gradient</span><span class="p">))</span>
    
    <span class="c1"># 8. Percentiles</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;percentile_25&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="mi">25</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;percentile_75&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="mi">75</span><span class="p">)</span>
    
    <span class="c1"># 9. Autocorrelation</span>
    <span class="n">autocorr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">correlate</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">audio</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
    <span class="n">autocorr</span> <span class="o">=</span> <span class="n">autocorr</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">autocorr</span><span class="p">)</span><span class="o">//</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;autocorr_max&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">autocorr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="p">])</span> <span class="o">/</span> <span class="n">autocorr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">features</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi ekstraksi feature siap digunakan&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total feature yang diekstrak: 19 feature statistik&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi ekstraksi feature siap digunakan
Total feature yang diekstrak: 19 feature statistik
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-5-ekstraksi-feature-spektral">
<h2>Langkah 5: Ekstraksi Feature Spektral<a class="headerlink" href="#langkah-5-ekstraksi-feature-spektral" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_spectral_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Ekstraksi feature dari domain frekuensi</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">features</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># 1. Spectral Centroid (pusat massa spektrum)</span>
    <span class="n">spectral_centroids</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">spectral_centroid</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_centroid_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">spectral_centroids</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_centroid_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">spectral_centroids</span><span class="p">)</span>
    
    <span class="c1"># 2. Spectral Rolloff (frekuensi dimana 85% energi spektrum berada)</span>
    <span class="n">spectral_rolloff</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">spectral_rolloff</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_rolloff_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">spectral_rolloff</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_rolloff_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">spectral_rolloff</span><span class="p">)</span>
    
    <span class="c1"># 3. Spectral Bandwidth (lebar spektrum)</span>
    <span class="n">spectral_bandwidth</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">spectral_bandwidth</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_bandwidth_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">spectral_bandwidth</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_bandwidth_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">spectral_bandwidth</span><span class="p">)</span>
    
    <span class="c1"># 4. Spectral Contrast (perbedaan antara peak dan valley)</span>
    <span class="n">spectral_contrast</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">spectral_contrast</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_contrast_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">spectral_contrast</span><span class="p">)</span>
    <span class="n">features</span><span class="p">[</span><span class="s1">&#39;spectral_contrast_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">spectral_contrast</span><span class="p">)</span>
    
    <span class="c1"># 5. MFCC (Mel-Frequency Cepstral Coefficients)</span>
    <span class="n">mfccs</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">feature</span><span class="o">.</span><span class="n">mfcc</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">n_mfcc</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">13</span><span class="p">):</span>
        <span class="n">features</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;mfcc_</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">_mean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">mfccs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">features</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;mfcc_</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">_std&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">mfccs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
    <span class="k">return</span> <span class="n">features</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi ekstraksi feature spektral siap digunakan&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total feature tambahan: 36 feature spektral&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi ekstraksi feature spektral siap digunakan
Total feature tambahan: 36 feature spektral
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">extract_all_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Menggabungkan semua feature</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">features</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="c1"># Feature time series</span>
    <span class="n">time_features</span> <span class="o">=</span> <span class="n">extract_time_series_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
    <span class="n">features</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">time_features</span><span class="p">)</span>
    
    <span class="c1"># Feature spektral</span>
    <span class="n">spectral_features</span> <span class="o">=</span> <span class="n">extract_spectral_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
    <span class="n">features</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">spectral_features</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">features</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi ekstraksi semua feature siap&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Total feature: 55 feature (19 time series + 36 spektral)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi ekstraksi semua feature siap
Total feature: 55 feature (19 time series + 36 spektral)
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-6-pembuatan-dataset-dari-audio">
<h2>Langkah 6: Pembuatan Dataset dari Audio<a class="headerlink" href="#langkah-6-pembuatan-dataset-dari-audio" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">glob</span><span class="w"> </span><span class="kn">import</span> <span class="n">glob</span>

<span class="k">def</span><span class="w"> </span><span class="nf">create_dataset</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">22050</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Membuat dataset dari folder audio</span>
<span class="sd">    </span>
<span class="sd">    Struktur folder yang diharapkan:</span>
<span class="sd">    data_path/</span>
<span class="sd">        buka/</span>
<span class="sd">            audio1.wav</span>
<span class="sd">            audio2.wav</span>
<span class="sd">            ...</span>
<span class="sd">        tutup/</span>
<span class="sd">            audio1.wav</span>
<span class="sd">            audio2.wav</span>
<span class="sd">            ...</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    data_path : str</span>
<span class="sd">        Path ke folder data</span>
<span class="sd">    sr : int</span>
<span class="sd">        Sampling rate</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    df : pandas DataFrame</span>
<span class="sd">        Dataset dengan feature dan label</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Kategori</span>
    <span class="n">categories</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;buka&#39;</span><span class="p">,</span> <span class="s1">&#39;tutup&#39;</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">category</span> <span class="ow">in</span> <span class="n">categories</span><span class="p">:</span>
        <span class="n">category_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data_path</span><span class="p">,</span> <span class="n">category</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">category_path</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Folder </span><span class="si">{</span><span class="n">category_path</span><span class="si">}</span><span class="s2"> tidak ditemukan&quot;</span><span class="p">)</span>
            <span class="k">continue</span>
        
        <span class="c1"># Cari semua file audio</span>
        <span class="n">audio_files</span> <span class="o">=</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">category_path</span><span class="p">,</span> <span class="s1">&#39;*.wav&#39;</span><span class="p">))</span>
        <span class="n">audio_files</span> <span class="o">+=</span> <span class="n">glob</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">category_path</span><span class="p">,</span> <span class="s1">&#39;*.mp3&#39;</span><span class="p">))</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Memproses </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">audio_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> file dari kategori &#39;</span><span class="si">{</span><span class="n">category</span><span class="si">}</span><span class="s2">&#39;...&quot;</span><span class="p">)</span>
        
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">audio_files</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="c1"># Load audio</span>
                <span class="n">audio</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">load_audio</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)</span>
                
                <span class="c1"># Ekstrak feature</span>
                <span class="n">features</span> <span class="o">=</span> <span class="n">extract_all_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
                <span class="n">features</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">category</span>
                <span class="n">features</span><span class="p">[</span><span class="s1">&#39;filename&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
                
                <span class="n">data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
                
                <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Progress: </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">audio_files</span><span class="p">)</span><span class="si">}</span><span class="s2"> file&quot;</span><span class="p">)</span>
                    
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Error processing </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">continue</span>
    
    <span class="c1"># Buat DataFrame</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Dataset berhasil dibuat!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Distribusi label:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
    
    <span class="k">return</span> <span class="n">df</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># df = create_dataset(&#39;audio_data&#39;, sr=22050)</span>
<span class="c1"># df.to_csv(&#39;audio_features.csv&#39;, index=False)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi create_dataset siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi create_dataset siap digunakan
</pre></div>
</div>
</div>
</div>
<section id="jalankan-ekstraksi-feature">
<h3>Jalankan Ekstraksi Feature<a class="headerlink" href="#jalankan-ekstraksi-feature" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Ekstraksi feature dari semua file audio</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üöÄ Memulai ekstraksi feature...&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">create_dataset</span><span class="p">(</span><span class="n">audio_folder</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">22050</span><span class="p">)</span>

<span class="c1"># Simpan dataset</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;audio_features.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ Dataset disimpan sebagai &#39;audio_features.csv&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Info dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìä Ringkasan Dataset:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total features: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Distribusi label: </span><span class="si">{</span><span class="nb">dict</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>üöÄ Memulai ekstraksi feature...
======================================================================
Memproses 30 file dari kategori &#39;buka&#39;...
  Progress: 10/30 file
  Progress: 10/30 file
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>  Progress: 20/30 file
  Progress: 30/30 file
Memproses 30 file dari kategori &#39;tutup&#39;...
  Progress: 30/30 file
Memproses 30 file dari kategori &#39;tutup&#39;...
  Progress: 10/30 file
  Progress: 10/30 file
  Progress: 20/30 file
  Progress: 20/30 file
  Progress: 30/30 file

Dataset berhasil dibuat!
Total samples: 60
Distribusi label:
label
buka     30
tutup    30
Name: count, dtype: int64

‚úÖ Dataset disimpan sebagai &#39;audio_features.csv&#39;

üìä Ringkasan Dataset:
   Total samples: 60
   Total features: 53
   Distribusi label: {&#39;buka&#39;: 30, &#39;tutup&#39;: 30}
  Progress: 30/30 file

Dataset berhasil dibuat!
Total samples: 60
Distribusi label:
label
buka     30
tutup    30
Name: count, dtype: int64

‚úÖ Dataset disimpan sebagai &#39;audio_features.csv&#39;

üìä Ringkasan Dataset:
   Total samples: 60
   Total features: 53
   Distribusi label: {&#39;buka&#39;: 30, &#39;tutup&#39;: 30}
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="langkah-7-eksplorasi-data-feature">
<h2>Langkah 7: Eksplorasi Data Feature<a class="headerlink" href="#langkah-7-eksplorasi-data-feature" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fungsi helper untuk EDA</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_feature_distributions</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">features_to_plot</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Visualisasi distribusi feature untuk setiap kelas&quot;&quot;&quot;</span>
    <span class="n">n_features</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">features_to_plot</span><span class="p">)</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">n_features</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">n_features</span><span class="p">))</span>
    
    <span class="k">if</span> <span class="n">n_features</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">axes</span> <span class="o">=</span> <span class="p">[</span><span class="n">axes</span><span class="p">]</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">features_to_plot</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">label</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">():</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">label</span><span class="p">][</span><span class="n">feature</span><span class="p">]</span>
            <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frekuensi&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Distribusi </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
        <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="k">def</span><span class="w"> </span><span class="nf">plot_correlation_matrix</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Visualisasi korelasi antar feature&quot;&quot;&quot;</span>
    <span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span>
    <span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">14</span><span class="p">))</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">corr_matrix</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;coolwarm&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> 
                <span class="n">square</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Correlation Matrix of Features&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Fungsi EDA siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚úÖ Fungsi EDA siap digunakan
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># EDA: Info Dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üìä EXPLORATORY DATA ANALYSIS (EDA)&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">1Ô∏è‚É£ Info Dataset:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Kolom: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2"> kolom&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Baris: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> samples&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">2Ô∏è‚É£ Distribusi Label:&quot;</span><span class="p">)</span>
<span class="n">label_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">for</span> <span class="n">label</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">label_counts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">percentage</span> <span class="o">=</span> <span class="p">(</span><span class="n">count</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">))</span> <span class="o">*</span> <span class="mi">100</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   </span><span class="si">{</span><span class="n">label</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">count</span><span class="si">}</span><span class="s2"> samples (</span><span class="si">{</span><span class="n">percentage</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">3Ô∏è‚É£ Missing Values:&quot;</span><span class="p">)</span>
<span class="n">missing</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="k">if</span> <span class="n">missing</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;   ‚úÖ Tidak ada missing values&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">missing</span><span class="p">[</span><span class="n">missing</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">4Ô∏è‚É£ Statistik Deskriptif (5 Feature Pertama):&quot;</span><span class="p">)</span>
<span class="n">numeric_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">number</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">numeric_cols</span><span class="p">]</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
üìä EXPLORATORY DATA ANALYSIS (EDA)
======================================================================

1Ô∏è‚É£ Info Dataset:
   Shape: (60, 55)
   Kolom: 55 kolom
   Baris: 60 samples

2Ô∏è‚É£ Distribusi Label:
   BUKA: 30 samples (50.0%)
   TUTUP: 30 samples (50.0%)

3Ô∏è‚É£ Missing Values:
   ‚úÖ Tidak ada missing values

4Ô∏è‚É£ Statistik Deskriptif (5 Feature Pertama):
          mean      std      max      min   median
count  60.0000  60.0000  60.0000  60.0000  60.0000
mean   -0.0001   0.4789   0.9870  -0.9911   0.0001
std     0.0004   0.0321   0.0193   0.0151   0.0015
min    -0.0013   0.4009   0.9112  -1.0000  -0.0042
25%    -0.0003   0.4554   0.9826  -1.0000  -0.0006
50%    -0.0000   0.4839   0.9958  -1.0000  -0.0001
75%     0.0002   0.5037   1.0000  -0.9897   0.0009
max     0.0015   0.5297   1.0000  -0.9362   0.0047
</pre></div>
</div>
</div>
</div>
<section id="visualisasi-distribusi-label">
<h3>Visualisasi Distribusi Label<a class="headerlink" href="#visualisasi-distribusi-label" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualisasi distribusi label</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>

<span class="c1"># Pie chart</span>
<span class="n">label_counts</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;#2E86DE&#39;</span><span class="p">,</span> <span class="s1">&#39;#EA2027&#39;</span><span class="p">]</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">label_counts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">label_counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span> 
            <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">textprops</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;fontweight&#39;</span><span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">})</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Distribusi Label Dataset&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>

<span class="c1"># Bar chart</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">label_counts</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">label_counts</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Jumlah Samples&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Jumlah Samples per Kategori&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">label_counts</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="o">+</span> <span class="mf">0.5</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">),</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/bc6000abe41fd6e8782fb5bcaf284d8c7cf8a0a64f3a41b3511e51348c9370d7.png" src="../../../_images/bc6000abe41fd6e8782fb5bcaf284d8c7cf8a0a64f3a41b3511e51348c9370d7.png" />
</div>
</div>
</section>
<section id="distribusi-feature-penting">
<h3>Distribusi Feature Penting<a class="headerlink" href="#distribusi-feature-penting" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot distribusi feature penting</span>
<span class="n">important_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;rms&#39;</span><span class="p">,</span> <span class="s1">&#39;zcr&#39;</span><span class="p">,</span> <span class="s1">&#39;spectral_centroid_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;duration&#39;</span><span class="p">]</span>

<span class="n">plot_feature_distributions</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">important_features</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/f6deea3d1a827dd5f84cbafa58aafdc659b69b1b99f29bb73e23de460539bc39.png" src="../../../_images/f6deea3d1a827dd5f84cbafa58aafdc659b69b1b99f29bb73e23de460539bc39.png" />
</div>
</div>
</section>
<section id="box-plot-deteksi-outliers">
<h3>Box Plot - Deteksi Outliers<a class="headerlink" href="#box-plot-deteksi-outliers" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Box plot untuk deteksi outliers</span>
<span class="n">selected_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;rms&#39;</span><span class="p">,</span> <span class="s1">&#39;zcr&#39;</span><span class="p">,</span> <span class="s1">&#39;spectral_centroid_mean&#39;</span><span class="p">]</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">feature</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">selected_features</span><span class="p">):</span>
    <span class="n">df</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="n">feature</span><span class="p">,</span> <span class="n">by</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">patch_artist</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Box Plot: </span><span class="si">{</span><span class="n">feature</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Label&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>  <span class="c1"># Remove default title</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üí° Box plot membantu mengidentifikasi outliers pada setiap feature&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/f647a9b61463f66742348b27508f248fdbbd81cf19a8df9b72c4687f5d362047.png" src="../../../_images/f647a9b61463f66742348b27508f248fdbbd81cf19a8df9b72c4687f5d362047.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>üí° Box plot membantu mengidentifikasi outliers pada setiap feature
</pre></div>
</div>
</div>
</div>
</section>
<section id="correlation-matrix-hubungan-antar-feature">
<h3>Correlation Matrix - Hubungan Antar Feature<a class="headerlink" href="#correlation-matrix-hubungan-antar-feature" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Correlation matrix</span>
<span class="n">plot_correlation_matrix</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/8567c2bc86f307f4c92a805071c6ef93eae12a14cbb2a68ac98d0002dba9867a.png" src="../../../_images/8567c2bc86f307f4c92a805071c6ef93eae12a14cbb2a68ac98d0002dba9867a.png" />
</div>
</div>
</section>
<section id="pair-plot-visualisasi-hubungan-antar-feature">
<h3>Pair Plot - Visualisasi Hubungan Antar Feature<a class="headerlink" href="#pair-plot-visualisasi-hubungan-antar-feature" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pair plot untuk beberapa feature penting</span>
<span class="n">key_features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span> <span class="s1">&#39;rms&#39;</span><span class="p">,</span> <span class="s1">&#39;zcr&#39;</span><span class="p">,</span> <span class="s1">&#39;spectral_centroid_mean&#39;</span><span class="p">,</span> <span class="s1">&#39;label&#39;</span><span class="p">]</span>
<span class="n">df_subset</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">key_features</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Bersihkan data dari inf dan nan</span>
<span class="n">df_subset</span> <span class="o">=</span> <span class="n">df_subset</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Pair plot - explicitly set diag_kind=None untuk menghindari error kompatibilitas pandas</span>
<span class="n">pairplot</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">pairplot</span><span class="p">(</span><span class="n">df_subset</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;buka&#39;</span><span class="p">:</span> <span class="s1">&#39;#2E86DE&#39;</span><span class="p">,</span> <span class="s1">&#39;tutup&#39;</span><span class="p">:</span> <span class="s1">&#39;#EA2027&#39;</span><span class="p">},</span>
                        <span class="n">diag_kind</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">plot_kws</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">},</span> <span class="n">height</span><span class="o">=</span><span class="mf">2.5</span><span class="p">)</span>
<span class="n">pairplot</span><span class="o">.</span><span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Pair Plot - Feature Relationships&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">1.02</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üí° Pair plot menunjukkan hubungan dan separabilitas antara dua kelas&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üìù Note: Diagonal plots disabled untuk kompatibilitas dengan pandas versi terbaru&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../../_images/e2b67caba4ead354dd3308c5f95557ec0934be473fdb0757c0d6f7255f2cc08f.png" src="../../../_images/e2b67caba4ead354dd3308c5f95557ec0934be473fdb0757c0d6f7255f2cc08f.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>üí° Pair plot menunjukkan hubungan dan separabilitas antara dua kelas
üìù Note: Diagonal plots disabled untuk kompatibilitas dengan pandas versi terbaru
</pre></div>
</div>
</div>
</div>
</section>
<section id="ringkasan-eda">
<h3>üìã Ringkasan EDA<a class="headerlink" href="#ringkasan-eda" title="Link to this heading">#</a></h3>
<p><strong>Insight dari Exploratory Data Analysis:</strong></p>
<ol class="arabic simple">
<li><p><strong>Dataset Balance</strong>: Cek apakah jumlah samples antar kelas seimbang</p></li>
<li><p><strong>Feature Distribution</strong>: Beberapa feature menunjukkan perbedaan jelas antara ‚Äòbuka‚Äô dan ‚Äòtutup‚Äô</p></li>
<li><p><strong>Outliers</strong>: Box plot membantu identifikasi data anomali yang mungkin perlu ditangani</p></li>
<li><p><strong>Correlation</strong>: Feature-feature tertentu memiliki korelasi tinggi (multikolinearitas)</p></li>
<li><p><strong>Separability</strong>: Pair plot menunjukkan seberapa baik feature memisahkan kedua kelas</p></li>
</ol>
<p><strong>Rekomendasi:</strong></p>
<ul class="simple">
<li><p>Feature dengan distribusi yang jelas berbeda = feature penting untuk klasifikasi</p></li>
<li><p>Feature dengan korelasi tinggi (&gt;0.9) bisa dipertimbangkan untuk feature selection</p></li>
<li><p>Outliers ekstrem mungkin perlu di-handle (remove atau transform)</p></li>
</ul>
</section>
</section>
<section id="langkah-7b-feature-selection">
<h2>Langkah 7B: Feature Selection<a class="headerlink" href="#langkah-7b-feature-selection" title="Link to this heading">#</a></h2>
<p>Feature selection membantu:</p>
<ul class="simple">
<li><p><strong>Mengurangi dimensionalitas</strong> dari 55 features menjadi features yang paling relevan</p></li>
<li><p><strong>Meningkatkan performa model</strong> dengan menghilangkan noise dan redundansi</p></li>
<li><p><strong>Mempercepat training</strong> dengan jumlah feature yang lebih sedikit</p></li>
<li><p><strong>Menghindari overfitting</strong> dengan fokus pada feature penting</p></li>
</ul>
<p>Kita akan menggunakan 3 metode:</p>
<ol class="arabic simple">
<li><p><strong>Variance Threshold</strong>: Hilangkan feature dengan variance sangat rendah</p></li>
<li><p><strong>Correlation Filter</strong>: Hilangkan feature yang terlalu berkorelasi (&gt;0.95)</p></li>
<li><p><strong>SelectKBest</strong>: Pilih K feature terbaik menggunakan ANOVA F-value</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">VarianceThreshold</span><span class="p">,</span> <span class="n">SelectKBest</span><span class="p">,</span> <span class="n">f_classif</span>

<span class="k">def</span><span class="w"> </span><span class="nf">perform_feature_selection</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">variance_threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">correlation_threshold</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">k_best</span><span class="o">=</span><span class="mi">30</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Melakukan feature selection dengan 3 metode</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    df : pandas DataFrame</span>
<span class="sd">        Dataset dengan features dan label</span>
<span class="sd">    variance_threshold : float</span>
<span class="sd">        Threshold untuk variance (default: 0.01)</span>
<span class="sd">    correlation_threshold : float</span>
<span class="sd">        Threshold untuk korelasi (default: 0.95)</span>
<span class="sd">    k_best : int</span>
<span class="sd">        Jumlah feature terbaik yang dipilih (default: 30)</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    df_selected : pandas DataFrame</span>
<span class="sd">        Dataset dengan features yang sudah diseleksi</span>
<span class="sd">    selected_features : list</span>
<span class="sd">        List nama features yang terpilih</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;üîç FEATURE SELECTION&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    
    <span class="c1"># Pisahkan features dan label</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìä Total features awal: </span><span class="si">{</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># ===== 1. VARIANCE THRESHOLD =====</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">1Ô∏è‚É£ Variance Threshold (threshold=</span><span class="si">{</span><span class="n">variance_threshold</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    <span class="n">selector_var</span> <span class="o">=</span> <span class="n">VarianceThreshold</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="n">variance_threshold</span><span class="p">)</span>
    <span class="n">X_var</span> <span class="o">=</span> <span class="n">selector_var</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>
    
    <span class="c1"># Dapatkan kolom yang tersisa</span>
    <span class="n">var_features</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">selector_var</span><span class="o">.</span><span class="n">get_support</span><span class="p">()]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features tersisa: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">var_features</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features dihapus: </span><span class="si">{</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">var_features</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="n">X_filtered</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">var_features</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="c1"># ===== 2. CORRELATION FILTER =====</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">2Ô∏è‚É£ Correlation Filter (threshold=</span><span class="si">{</span><span class="n">correlation_threshold</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
    
    <span class="c1"># Hitung correlation matrix</span>
    <span class="n">corr_matrix</span> <span class="o">=</span> <span class="n">X_filtered</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
    
    <span class="c1"># Select upper triangle of correlation matrix</span>
    <span class="n">upper</span> <span class="o">=</span> <span class="n">corr_matrix</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">triu</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">corr_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">),</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">))</span>
    
    <span class="c1"># Find features with correlation greater than threshold</span>
    <span class="n">to_drop</span> <span class="o">=</span> <span class="p">[</span><span class="n">column</span> <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">upper</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">upper</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">correlation_threshold</span><span class="p">)]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features dengan korelasi tinggi: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features dihapus: </span><span class="si">{</span><span class="n">to_drop</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span><span class="si">}{</span><span class="s1">&#39;...&#39;</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">to_drop</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="n">X_filtered</span> <span class="o">=</span> <span class="n">X_filtered</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">to_drop</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features tersisa: </span><span class="si">{</span><span class="n">X_filtered</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># ===== 3. SELECTKBEST (ANOVA F-value) =====</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">3Ô∏è‚É£ SelectKBest (K=</span><span class="si">{</span><span class="n">k_best</span><span class="si">}</span><span class="s2"> features)&quot;</span><span class="p">)</span>
    
    <span class="c1"># Encode label untuk SelectKBest</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">y_encoded</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    
    <span class="c1"># Jika features tersisa &lt; k_best, gunakan semua features</span>
    <span class="n">k_final</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">k_best</span><span class="p">,</span> <span class="n">X_filtered</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    
    <span class="n">selector_kbest</span> <span class="o">=</span> <span class="n">SelectKBest</span><span class="p">(</span><span class="n">score_func</span><span class="o">=</span><span class="n">f_classif</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="n">k_final</span><span class="p">)</span>
    <span class="n">selector_kbest</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_filtered</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">)</span>
    
    <span class="c1"># Dapatkan scores untuk setiap feature</span>
    <span class="n">feature_scores</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
        <span class="s1">&#39;Feature&#39;</span><span class="p">:</span> <span class="n">X_filtered</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
        <span class="s1">&#39;Score&#39;</span><span class="p">:</span> <span class="n">selector_kbest</span><span class="o">.</span><span class="n">scores_</span>
    <span class="p">})</span>
    <span class="n">feature_scores</span> <span class="o">=</span> <span class="n">feature_scores</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Score&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="c1"># Pilih K best features</span>
    <span class="n">selected_features</span> <span class="o">=</span> <span class="n">feature_scores</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">k_final</span><span class="p">)[</span><span class="s1">&#39;Feature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Top 10 Features (by ANOVA F-value):&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">feature_scores</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Feature&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">30s</span><span class="si">}</span><span class="s2"> - Score: </span><span class="si">{</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;Score&#39;</span><span class="p">]</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># ===== HASIL AKHIR =====</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ HASIL FEATURE SELECTION:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features awal: </span><span class="si">{</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Features akhir: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">selected_features</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Reduksi: </span><span class="si">{</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">selected_features</span><span class="p">)</span><span class="si">}</span><span class="s2"> features (</span><span class="si">{</span><span class="p">((</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">len</span><span class="p">(</span><span class="n">selected_features</span><span class="p">))</span><span class="o">/</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
    
    <span class="c1"># Buat DataFrame baru dengan selected features</span>
    <span class="n">df_selected</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">selected_features</span> <span class="o">+</span> <span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">df_selected</span><span class="p">,</span> <span class="n">selected_features</span><span class="p">,</span> <span class="n">feature_scores</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Fungsi perform_feature_selection siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚úÖ Fungsi perform_feature_selection siap digunakan
</pre></div>
</div>
</div>
</div>
<section id="visualisasi-feature-scores">
<h3>Visualisasi Feature Scores<a class="headerlink" href="#visualisasi-feature-scores" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">plot_feature_scores</span><span class="p">(</span><span class="n">feature_scores</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Visualisasi feature scores dari SelectKBest</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    
    <span class="n">top_features</span> <span class="o">=</span> <span class="n">feature_scores</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top_n</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_features</span><span class="p">)),</span> <span class="n">top_features</span><span class="p">[</span><span class="s1">&#39;Score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;steelblue&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_features</span><span class="p">)),</span> <span class="n">top_features</span><span class="p">[</span><span class="s1">&#39;Feature&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;ANOVA F-value Score&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Features&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1"> Features by ANOVA F-value&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üí° Feature dengan score tinggi = lebih diskriminatif untuk klasifikasi&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Fungsi plot_feature_scores siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚úÖ Fungsi plot_feature_scores siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="jalankan-feature-selection">
<h3>Jalankan Feature Selection<a class="headerlink" href="#jalankan-feature-selection" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Jalankan feature selection</span>
<span class="n">df_selected</span><span class="p">,</span> <span class="n">selected_features</span><span class="p">,</span> <span class="n">feature_scores</span> <span class="o">=</span> <span class="n">perform_feature_selection</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> 
    <span class="n">variance_threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>      <span class="c1"># Feature dengan variance &lt; 0.01 akan dihapus</span>
    <span class="n">correlation_threshold</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>   <span class="c1"># Feature dengan korelasi &gt; 0.95 akan dihapus</span>
    <span class="n">k_best</span><span class="o">=</span><span class="mi">30</span>                     <span class="c1"># Pilih 30 features terbaik</span>
<span class="p">)</span>

<span class="c1"># Visualisasi feature scores</span>
<span class="n">plot_feature_scores</span><span class="p">(</span><span class="n">feature_scores</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># Simpan dataset dengan selected features</span>
<span class="n">df_selected</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;audio_features_selected.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üíæ Dataset dengan selected features disimpan sebagai &#39;audio_features_selected.csv&#39;&quot;</span><span class="p">)</span>

<span class="c1"># Update df untuk digunakan di langkah selanjutnya</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìù Gunakan &#39;df_selected&#39; untuk modeling (bukan &#39;df&#39;)&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>======================================================================
üîç FEATURE SELECTION
======================================================================

üìä Total features awal: 53

1Ô∏è‚É£ Variance Threshold (threshold=0.01)
   Features tersisa: 37
   Features dihapus: 16

2Ô∏è‚É£ Correlation Filter (threshold=0.95)
   Features dengan korelasi tinggi: 4
   Features dihapus: [&#39;duration&#39;, &#39;spectral_rolloff_std&#39;, &#39;mfcc_1_mean&#39;, &#39;mfcc_2_mean&#39;]
   Features tersisa: 33

3Ô∏è‚É£ SelectKBest (K=30 features)
   Top 10 Features (by ANOVA F-value):
   mfcc_8_mean                    - Score: 386.05
   max_gradient                   - Score: 268.81
   mfcc_3_mean                    - Score: 181.80
   energy                         - Score: 144.07
   mfcc_2_std                     - Score: 133.62
   mfcc_5_mean                    - Score: 79.23
   spectral_centroid_std          - Score: 76.07
   mfcc_9_mean                    - Score: 59.43
   mfcc_7_mean                    - Score: 55.55
   spectral_bandwidth_mean        - Score: 34.86

‚úÖ HASIL FEATURE SELECTION:
   Features awal: 53
   Features akhir: 30
   Reduksi: 23 features (43.4%)
</pre></div>
</div>
<img alt="../../../_images/4181c27a3370df1875183959560ce36541e26165063711bb4bdaaf9a138f5a2d.png" src="../../../_images/4181c27a3370df1875183959560ce36541e26165063711bb4bdaaf9a138f5a2d.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>üí° Feature dengan score tinggi = lebih diskriminatif untuk klasifikasi

üíæ Dataset dengan selected features disimpan sebagai &#39;audio_features_selected.csv&#39;

üìù Gunakan &#39;df_selected&#39; untuk modeling (bukan &#39;df&#39;)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="langkah-8-preprocessing-data">
<h2>Langkah 8: Preprocessing Data<a class="headerlink" href="#langkah-8-preprocessing-data" title="Link to this heading">#</a></h2>
<p><strong>Proses Preprocessing meliputi:</strong></p>
<ol class="arabic simple">
<li><p>Split data menjadi training dan testing set</p></li>
<li><p>Encode label (buka/tutup ‚Üí 0/1)</p></li>
<li><p><strong>Normalisasi features</strong> menggunakan StandardScaler</p></li>
</ol>
<p>üí° <strong>Normalisasi sangat penting</strong> karena feature audio memiliki skala yang berbeda-beda (energy: 0-1000, duration: 0-5, dll)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">prepare_data</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mempersiapkan data untuk modeling</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    df : pandas DataFrame</span>
<span class="sd">        Dataset (bisa df atau df_selected)</span>
<span class="sd">    test_size : float</span>
<span class="sd">        Proporsi data test (default: 0.2 = 20%)</span>
<span class="sd">    random_state : int</span>
<span class="sd">        Random seed untuk reproducibility</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    X_train, X_test, y_train, y_test : arrays</span>
<span class="sd">        Data training dan testing</span>
<span class="sd">    scaler : StandardScaler</span>
<span class="sd">        Scaler untuk normalisasi (perlu disimpan untuk prediksi)</span>
<span class="sd">    label_encoder : LabelEncoder</span>
<span class="sd">        Encoder untuk label (perlu disimpan untuk prediksi)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚öôÔ∏è PREPROCESSING DATA&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">70</span><span class="p">)</span>
    
    <span class="c1"># Pisahkan feature dan label</span>
    <span class="n">X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;label&#39;</span><span class="p">]</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìä Dataset Info:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total samples: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Total features: </span><span class="si">{</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Encode label</span>
    <span class="n">label_encoder</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">y_encoded</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Label classes: </span><span class="si">{</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Label distribution: </span><span class="si">{</span><span class="nb">dict</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="c1"># Split data (stratified untuk menjaga proporsi label)</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span>
        <span class="n">X</span><span class="p">,</span> <span class="n">y_encoded</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="n">test_size</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">random_state</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">y_encoded</span>
    <span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÇÔ∏è Data Split:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Training set: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples (</span><span class="si">{</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">test_size</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Testing set: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span><span class="si">}</span><span class="s2"> samples (</span><span class="si">{</span><span class="n">test_size</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.0f</span><span class="si">}</span><span class="s2">%)&quot;</span><span class="p">)</span>
    
    <span class="c1"># Normalisasi feature menggunakan StandardScaler</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">üìè Normalisasi Features (StandardScaler):&quot;</span><span class="p">)</span>
    <span class="n">scaler</span> <span class="o">=</span> <span class="n">StandardScaler</span><span class="p">()</span>
    <span class="n">X_train_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
    <span class="n">X_test_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    
    <span class="c1"># Cek hasil normalisasi</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Training set - Mean: ~0, Std: ~1&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Sample mean: </span><span class="si">{</span><span class="n">X_train_scaled</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   Sample std: </span><span class="si">{</span><span class="n">X_train_scaled</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">‚úÖ Preprocessing selesai!&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   X_train_scaled shape: </span><span class="si">{</span><span class="n">X_train_scaled</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   X_test_scaled shape: </span><span class="si">{</span><span class="n">X_test_scaled</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">X_train_scaled</span><span class="p">,</span> <span class="n">X_test_scaled</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># Gunakan df_selected (setelah feature selection) atau df (all features)</span>
<span class="c1"># X_train, X_test, y_train, y_test, scaler, label_encoder = prepare_data(df_selected)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;‚úÖ Fungsi prepare_data siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>‚úÖ Fungsi prepare_data siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-9-training-model-klasifikasi">
<h2>Langkah 9: Training Model Klasifikasi<a class="headerlink" href="#langkah-9-training-model-klasifikasi" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">train_and_evaluate_models</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Melatih dan mengevaluasi berbagai model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Definisi model</span>
    <span class="n">models</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;Random Forest&#39;</span><span class="p">:</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">n_estimators</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">),</span>
        <span class="s1">&#39;SVM&#39;</span><span class="p">:</span> <span class="n">SVC</span><span class="p">(</span><span class="n">kernel</span><span class="o">=</span><span class="s1">&#39;rbf&#39;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">),</span>
        <span class="s1">&#39;KNN&#39;</span><span class="p">:</span> <span class="n">KNeighborsClassifier</span><span class="p">(</span><span class="n">n_neighbors</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="p">}</span>
    
    <span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Training </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="c1"># Training</span>
        <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
        
        <span class="c1"># Prediksi</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
        
        <span class="c1"># Evaluasi</span>
        <span class="n">accuracy</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
        
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Accuracy: </span><span class="si">{</span><span class="n">accuracy</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Classification Report:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> 
                                    <span class="n">target_names</span><span class="o">=</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">))</span>
        
        <span class="c1"># Cross-validation</span>
        <span class="n">cv_scores</span> <span class="o">=</span> <span class="n">cross_val_score</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">cv</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Cross-validation scores: </span><span class="si">{</span><span class="n">cv_scores</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mean CV score: </span><span class="si">{</span><span class="n">cv_scores</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2"> (+/- </span><span class="si">{</span><span class="n">cv_scores</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
        
        <span class="c1"># Simpan hasil</span>
        <span class="n">results</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;model&#39;</span><span class="p">:</span> <span class="n">model</span><span class="p">,</span>
            <span class="s1">&#39;accuracy&#39;</span><span class="p">:</span> <span class="n">accuracy</span><span class="p">,</span>
            <span class="s1">&#39;y_pred&#39;</span><span class="p">:</span> <span class="n">y_pred</span><span class="p">,</span>
            <span class="s1">&#39;cv_scores&#39;</span><span class="p">:</span> <span class="n">cv_scores</span>
        <span class="p">}</span>
        
        <span class="c1"># Plot confusion matrix</span>
        <span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
        <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">,</span>
                   <span class="n">xticklabels</span><span class="o">=</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span>
                   <span class="n">yticklabels</span><span class="o">=</span><span class="n">label_encoder</span><span class="o">.</span><span class="n">classes_</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Confusion Matrix - </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;True Label&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicted Label&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">results</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># results = train_and_evaluate_models(X_train, X_test, y_train, y_test, label_encoder)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi train_and_evaluate_models siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi train_and_evaluate_models siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-10-perbandingan-model">
<h2>Langkah 10: Perbandingan Model<a class="headerlink" href="#langkah-10-perbandingan-model" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">compare_models</span><span class="p">(</span><span class="n">results</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Membandingkan performa semua model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Buat DataFrame perbandingan</span>
    <span class="n">comparison_data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">comparison_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
            <span class="s1">&#39;Model&#39;</span><span class="p">:</span> <span class="n">name</span><span class="p">,</span>
            <span class="s1">&#39;Accuracy&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;accuracy&#39;</span><span class="p">],</span>
            <span class="s1">&#39;CV Mean&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;cv_scores&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span>
            <span class="s1">&#39;CV Std&#39;</span><span class="p">:</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;cv_scores&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
        <span class="p">})</span>
    
    <span class="n">comparison_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">comparison_data</span><span class="p">)</span>
    <span class="n">comparison_df</span> <span class="o">=</span> <span class="n">comparison_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">+</span> <span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;PERBANDINGAN MODEL&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">comparison_df</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
    
    <span class="c1"># Visualisasi</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    
    <span class="c1"># Plot accuracy</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">],</span> <span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;skyblue&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Accuracy&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Model Accuracy Comparison&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    
    <span class="c1"># Plot CV scores</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;Model&#39;</span><span class="p">],</span> <span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;CV Mean&#39;</span><span class="p">],</span> 
               <span class="n">yerr</span><span class="o">=</span><span class="n">comparison_df</span><span class="p">[</span><span class="s1">&#39;CV Std&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;lightcoral&#39;</span><span class="p">,</span> <span class="n">capsize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;CV Score&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Cross-Validation Score Comparison&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="k">return</span> <span class="n">comparison_df</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># comparison_df = compare_models(results)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi compare_models siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi compare_models siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-11-feature-importance-analysis">
<h2>Langkah 11: Feature Importance Analysis<a class="headerlink" href="#langkah-11-feature-importance-analysis" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">analyze_feature_importance</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Analisis feature importance untuk model Random Forest</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;feature_importances_&#39;</span><span class="p">):</span>
        <span class="c1"># Get feature importance</span>
        <span class="n">importances</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">feature_importances_</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">importances</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        
        <span class="c1"># Print top features</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Top Feature Importances:&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">50</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">top_n</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">feature_names</span><span class="p">))):</span>
            <span class="n">idx</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">feature_names</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">importances</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="c1"># Plot</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
        <span class="n">top_indices</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[:</span><span class="n">top_n</span><span class="p">]</span>
        <span class="n">top_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">top_indices</span><span class="p">]</span>
        <span class="n">top_importances</span> <span class="o">=</span> <span class="p">[</span><span class="n">importances</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">top_indices</span><span class="p">]</span>
        
        <span class="n">plt</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_features</span><span class="p">)),</span> <span class="n">top_importances</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;steelblue&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">top_features</span><span class="p">)),</span> <span class="n">top_features</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Importance&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Top </span><span class="si">{</span><span class="n">top_n</span><span class="si">}</span><span class="s1"> Most Important Features&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Model ini tidak memiliki feature importance&quot;</span><span class="p">)</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># rf_model = results[&#39;Random Forest&#39;][&#39;model&#39;]</span>
<span class="c1"># feature_names = df.drop([&#39;label&#39;, &#39;filename&#39;], axis=1, errors=&#39;ignore&#39;).columns</span>
<span class="c1"># analyze_feature_importance(rf_model, feature_names, top_n=20)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi analyze_feature_importance siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi analyze_feature_importance siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-12-save-model">
<h2>Langkah 12: Save Model<a class="headerlink" href="#langkah-12-save-model" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">joblib</span>

<span class="k">def</span><span class="w"> </span><span class="nf">save_model</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">,</span> <span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;best_model&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Menyimpan model dan preprocessing objects</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Save model</span>
    <span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
    <span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">scaler</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">_scaler.pkl&#39;</span><span class="p">)</span>
    <span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">label_encoder</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">_label_encoder.pkl&#39;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model disimpan sebagai:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">.pkl&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">_scaler.pkl&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  - </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">_label_encoder.pkl&quot;</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">load_model</span><span class="p">(</span><span class="n">model_name</span><span class="o">=</span><span class="s1">&#39;best_model&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Memuat model yang telah disimpan</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">.pkl&#39;</span><span class="p">)</span>
    <span class="n">scaler</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">_scaler.pkl&#39;</span><span class="p">)</span>
    <span class="n">label_encoder</span> <span class="o">=</span> <span class="n">joblib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s1">_label_encoder.pkl&#39;</span><span class="p">)</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Model berhasil dimuat dari </span><span class="si">{</span><span class="n">model_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># best_model = results[&#39;Random Forest&#39;][&#39;model&#39;]</span>
<span class="c1"># save_model(best_model, scaler, label_encoder, &#39;audio_classifier&#39;)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi save_model dan load_model siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi save_model dan load_model siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-13-prediksi-audio-baru">
<h2>Langkah 13: Prediksi Audio Baru<a class="headerlink" href="#langkah-13-prediksi-audio-baru" title="Link to this heading">#</a></h2>
<p>Fungsi untuk memprediksi audio baru</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">predict_audio</span><span class="p">(</span><span class="n">audio_path</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="mi">22050</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Memprediksi kategori dari file audio baru</span>
<span class="sd">    </span>
<span class="sd">    Parameters:</span>
<span class="sd">    -----------</span>
<span class="sd">    audio_path : str</span>
<span class="sd">        Path ke file audio</span>
<span class="sd">    model : sklearn model</span>
<span class="sd">        Model yang telah dilatih</span>
<span class="sd">    scaler : StandardScaler</span>
<span class="sd">        Scaler untuk normalisasi</span>
<span class="sd">    label_encoder : LabelEncoder</span>
<span class="sd">        Encoder untuk label</span>
<span class="sd">    sr : int</span>
<span class="sd">        Sampling rate</span>
<span class="sd">    </span>
<span class="sd">    Returns:</span>
<span class="sd">    --------</span>
<span class="sd">    prediction : str</span>
<span class="sd">        Prediksi kategori</span>
<span class="sd">    probability : float</span>
<span class="sd">        Probabilitas prediksi</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Load audio</span>
    <span class="n">audio</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">load_audio</span><span class="p">(</span><span class="n">audio_path</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">)</span>
    
    <span class="c1"># Ekstrak feature</span>
    <span class="n">features</span> <span class="o">=</span> <span class="n">extract_all_features</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="p">)</span>
    
    <span class="c1"># Convert ke DataFrame</span>
    <span class="n">features_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">features</span><span class="p">])</span>
    
    <span class="c1"># Normalisasi</span>
    <span class="n">features_scaled</span> <span class="o">=</span> <span class="n">scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">features_df</span><span class="p">)</span>
    
    <span class="c1"># Prediksi</span>
    <span class="n">prediction_encoded</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">features_scaled</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">prediction</span> <span class="o">=</span> <span class="n">label_encoder</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">([</span><span class="n">prediction_encoded</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="c1"># Probabilitas (jika model support)</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;predict_proba&#39;</span><span class="p">):</span>
        <span class="n">probabilities</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">features_scaled</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">probability</span> <span class="o">=</span> <span class="n">probabilities</span><span class="p">[</span><span class="n">prediction_encoded</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">probability</span> <span class="o">=</span> <span class="kc">None</span>
    
    <span class="c1"># Visualisasi</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
    
    <span class="c1"># Waveform</span>
    <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">waveshow</span><span class="p">(</span><span class="n">audio</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Waveform - Prediksi: </span><span class="si">{</span><span class="n">prediction</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Waktu (detik)&#39;</span><span class="p">)</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Amplitudo&#39;</span><span class="p">)</span>
    
    <span class="c1"># Spectrogram</span>
    <span class="n">D</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">amplitude_to_db</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">librosa</span><span class="o">.</span><span class="n">stft</span><span class="p">(</span><span class="n">audio</span><span class="p">)),</span> <span class="n">ref</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
    <span class="n">img</span> <span class="o">=</span> <span class="n">librosa</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">specshow</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">sr</span><span class="o">=</span><span class="n">sr</span><span class="p">,</span> <span class="n">x_axis</span><span class="o">=</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">=</span><span class="s1">&#39;hz&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Spectrogram&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
    <span class="n">fig</span><span class="o">.</span><span class="n">colorbar</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axes</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%+2.0f</span><span class="s1"> dB&#39;</span><span class="p">)</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    
    <span class="c1"># Print hasil</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;File: </span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">audio_path</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Prediksi: </span><span class="si">{</span><span class="n">prediction</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">probability</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Confidence: </span><span class="si">{</span><span class="n">probability</span><span class="o">*</span><span class="mi">100</span><span class="si">:</span><span class="s2">.2f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">50</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">prediction</span><span class="p">,</span> <span class="n">probability</span>

<span class="c1"># Contoh penggunaan:</span>
<span class="c1"># prediction, prob = predict_audio(&#39;test_audio.wav&#39;, model, scaler, label_encoder)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fungsi predict_audio siap digunakan&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fungsi predict_audio siap digunakan
</pre></div>
</div>
</div>
</div>
</section>
<section id="langkah-14-kesimpulan-dan-ringkasan-hasil">
<h2>Langkah 14: Kesimpulan dan Ringkasan Hasil<a class="headerlink" href="#langkah-14-kesimpulan-dan-ringkasan-hasil" title="Link to this heading">#</a></h2>
<section id="ringkasan-dataset">
<h3>Ringkasan Dataset<a class="headerlink" href="#ringkasan-dataset" title="Link to this heading">#</a></h3>
<p>Proyek ini berhasil menganalisis audio suara ‚Äúbuka‚Äù dan ‚Äútutup‚Äù dengan mengekstraksi <strong>55 feature statistik</strong>:</p>
<ul class="simple">
<li><p><strong>19 Feature Time Series</strong>: mean, std, max, min, median, variance, skewness, kurtosis, range, IQR, energy, RMS, zero crossing rate, duration, gradient, percentiles, autocorrelation</p></li>
<li><p><strong>36 Feature Spektral</strong>: spectral centroid, rolloff, bandwidth, contrast, dan 13 MFCC coefficients (mean &amp; std)</p></li>
</ul>
</section>
<section id="hasil-analisis-eda">
<h3>Hasil Analisis EDA<a class="headerlink" href="#hasil-analisis-eda" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Distribusi Label</strong>: Dataset menunjukkan keseimbangan antara kelas ‚Äúbuka‚Äù dan ‚Äútutup‚Äù</p></li>
<li><p><strong>Feature Discrimination</strong>: Feature seperti energy, RMS, zero crossing rate, dan spectral centroid menunjukkan perbedaan yang signifikan antara kedua kelas</p></li>
<li><p><strong>Correlation Analysis</strong>: Beberapa feature memiliki korelasi tinggi, mengindikasikan redundansi informasi</p></li>
<li><p><strong>Outliers</strong>: Terdapat outliers pada beberapa feature yang perlu diperhatikan untuk model yang lebih robust</p></li>
</ol>
</section>
<section id="performa-model">
<h3>Performa Model<a class="headerlink" href="#performa-model" title="Link to this heading">#</a></h3>
<p>Tiga model machine learning telah dilatih dan dievaluasi:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Model</p></th>
<th class="head"><p>Karakteristik</p></th>
<th class="head"><p>Kelebihan</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Random Forest</strong></p></td>
<td><p>Ensemble learning dengan multiple decision trees</p></td>
<td><p>Handling outliers baik, feature importance analysis</p></td>
</tr>
<tr class="row-odd"><td><p><strong>SVM</strong></p></td>
<td><p>Support Vector Machine dengan RBF kernel</p></td>
<td><p>Efektif untuk high-dimensional data</p></td>
</tr>
<tr class="row-even"><td><p><strong>KNN</strong></p></td>
<td><p>K-Nearest Neighbors (k=5)</p></td>
<td><p>Simple, interpretable, non-parametric</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Hasil Evaluasi:</strong></p>
<ul class="simple">
<li><p>Accuracy, Precision, Recall, dan F1-Score untuk setiap model dapat dilihat pada output Langkah 9</p></li>
<li><p>Cross-validation menunjukkan konsistensi performa model</p></li>
<li><p>Confusion matrix mengidentifikasi pola kesalahan klasifikasi</p></li>
</ul>
</section>
<section id="feature-importance">
<h3>Feature Importance<a class="headerlink" href="#feature-importance" title="Link to this heading">#</a></h3>
<p>Feature yang paling berpengaruh dalam klasifikasi (berdasarkan Random Forest):</p>
<ol class="arabic simple">
<li><p>Feature energi dan RMS menunjukkan pentingnya karakteristik amplitudo</p></li>
<li><p>Spectral features membedakan pola frekuensi antara suara buka dan tutup</p></li>
<li><p>MFCC coefficients menangkap karakteristik tekstur audio</p></li>
<li><p>Zero crossing rate mengukur tingkat perubahan sinyal</p></li>
</ol>
</section>
<section id="kesimpulan">
<h3>Kesimpulan<a class="headerlink" href="#kesimpulan" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Model berhasil membedakan</strong> suara ‚Äúbuka‚Äù dan ‚Äútutup‚Äù dengan akurasi yang baik</p></li>
<li><p><strong>Feature statistik time series</strong> terbukti efektif untuk klasifikasi audio sederhana</p></li>
<li><p><strong>Kombinasi time domain dan frequency domain features</strong> memberikan representasi audio yang komprehensif</p></li>
<li><p><strong>Model siap digunakan</strong> untuk prediksi audio baru setelah disimpan</p></li>
</ol>
</section>
<section id="feature-selection">
<h3>üîß Feature Selection<a class="headerlink" href="#feature-selection" title="Link to this heading">#</a></h3>
<p><strong>Proses yang dilakukan (Langkah 7B):</strong></p>
<ol class="arabic simple">
<li><p><strong>Variance Threshold</strong>: Menghilangkan features dengan variance sangat rendah</p></li>
<li><p><strong>Correlation Filter</strong>: Menghilangkan features dengan korelasi tinggi (&gt;0.95)</p></li>
<li><p><strong>SelectKBest (ANOVA F-value)</strong>: Memilih top 30 features paling diskriminatif</p></li>
</ol>
<p><strong>Manfaat:</strong></p>
<ul class="simple">
<li><p>Reduksi dimensi dari 55 ‚Üí ~30 features</p></li>
<li><p>Meningkatkan efisiensi model tanpa mengurangi akurasi</p></li>
<li><p>Menghilangkan redundansi dan noise</p></li>
</ul>
</section>
<section id="rekomendasi-pengembangan">
<h3>üí° Rekomendasi Pengembangan<a class="headerlink" href="#rekomendasi-pengembangan" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Augmentasi Data</strong>: Tambah variasi data dengan time stretching, pitch shifting, atau noise injection</p></li>
<li><p><strong>Hyperparameter Tuning</strong>: Optimasi parameter model (GridSearchCV/RandomizedSearchCV) untuk meningkatkan akurasi</p></li>
<li><p><strong>Ensemble Methods</strong>: Kombinasi prediksi dari multiple models (voting/stacking)</p></li>
<li><p><strong>Deep Learning</strong>: Eksplorasi CNN atau RNN untuk pattern recognition yang lebih kompleks</p></li>
<li><p><strong>Real-time Processing</strong>: Implementasi untuk sistem monitoring real-time</p></li>
</ol>
</section>
<section id="aplikasi-praktis">
<h3>üöÄ Aplikasi Praktis<a class="headerlink" href="#aplikasi-praktis" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Smart Home Security</strong>: Sistem deteksi otomatis buka/tutup pintu dan jendela</p></li>
<li><p><strong>Home Automation</strong>: Trigger aksi berdasarkan aktivitas buka/tutup</p></li>
<li><p><strong>Activity Monitoring</strong>: Tracking aktivitas penghuni rumah untuk elderly care</p></li>
<li><p><strong>Energy Management</strong>: Optimasi penggunaan AC/heater berdasarkan status pintu/jendela</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="workflow-guide-urutan-eksekusi-lengkap">
<h2>üìã WORKFLOW GUIDE - Urutan Eksekusi Lengkap<a class="headerlink" href="#workflow-guide-urutan-eksekusi-lengkap" title="Link to this heading">#</a></h2>
<section id="quick-start-minimal-execution-path">
<h3><strong>üéØ QUICK START - Minimal Execution Path</strong><a class="headerlink" href="#quick-start-minimal-execution-path" title="Link to this heading">#</a></h3>
<p>Jika hanya ingin training model dengan cepat:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Cell 3 ‚Üí 9 ‚Üí 12 ‚Üí 15 ‚Üí 17 ‚Üí 19 ‚Üí (21-26 EDA) ‚Üí (28-31 Feature Selection) ‚Üí 35 ‚Üí 37 ‚Üí 39
</pre></div>
</div>
</section>
<section id="complete-workflow-step-by-step">
<h3><strong>üìö COMPLETE WORKFLOW - Step by Step</strong><a class="headerlink" href="#complete-workflow-step-by-step" title="Link to this heading">#</a></h3>
<section id="fase-1-setup-ekstraksi-feature">
<h4><strong>FASE 1: SETUP &amp; EKSTRAKSI FEATURE</strong> ‚úÖ<a class="headerlink" href="#fase-1-setup-ekstraksi-feature" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Langkah</p></th>
<th class="head"><p>Cell</p></th>
<th class="head"><p>Deskripsi</p></th>
<th class="head"><p>Wajib?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>1</strong></p></td>
<td><p>1-3</p></td>
<td><p>Import libraries &amp; setup environment</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-odd"><td><p><strong>2</strong></p></td>
<td><p>4-7</p></td>
<td><p>Cek folder audio &amp; visualisasi sample</p></td>
<td><p>üîµ Opsional (debugging)</p></td>
</tr>
<tr class="row-even"><td><p><strong>3</strong></p></td>
<td><p>8-10</p></td>
<td><p>Definisi fungsi <code class="docutils literal notranslate"><span class="pre">load_audio()</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">plot_waveform()</span></code></p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-odd"><td><p><strong>4</strong></p></td>
<td><p>11-12</p></td>
<td><p>Definisi fungsi ekstraksi time series features (19)</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-even"><td><p><strong>5</strong></p></td>
<td><p>13-15</p></td>
<td><p>Definisi fungsi ekstraksi spectral features (36)</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-odd"><td><p><strong>6</strong></p></td>
<td><p>16-19</p></td>
<td><p>Buat dataset &amp; simpan CSV</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Output Fase 1:</strong> <code class="docutils literal notranslate"><span class="pre">audio_features.csv</span></code> dengan 55 features</p>
</section>
<section id="fase-2-exploratory-data-analysis-eda">
<h4><strong>FASE 2: EXPLORATORY DATA ANALYSIS (EDA)</strong> üìä<a class="headerlink" href="#fase-2-exploratory-data-analysis-eda" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Langkah</p></th>
<th class="head"><p>Cell</p></th>
<th class="head"><p>Deskripsi</p></th>
<th class="head"><p>Wajib?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>7</strong></p></td>
<td><p>20-21</p></td>
<td><p>Definisi fungsi EDA &amp; info dataset</p></td>
<td><p>‚úÖ Sangat disarankan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>7</strong></p></td>
<td><p>22-23</p></td>
<td><p>Visualisasi distribusi label</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
<tr class="row-even"><td><p><strong>7</strong></p></td>
<td><p>24-25</p></td>
<td><p>Distribusi feature penting</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
<tr class="row-odd"><td><p><strong>7</strong></p></td>
<td><p>26-27</p></td>
<td><p>Box plot (outlier detection)</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
<tr class="row-even"><td><p><strong>7</strong></p></td>
<td><p>28-29</p></td>
<td><p>Correlation matrix</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
<tr class="row-odd"><td><p><strong>7</strong></p></td>
<td><p>30-32</p></td>
<td><p>Pair plot</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Output Fase 2:</strong> Insight tentang dataset, korelasi, outliers</p>
</section>
<section id="fase-3-feature-selection">
<h4><strong>FASE 3: FEATURE SELECTION</strong> üîç<a class="headerlink" href="#fase-3-feature-selection" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Langkah</p></th>
<th class="head"><p>Cell</p></th>
<th class="head"><p>Deskripsi</p></th>
<th class="head"><p>Wajib?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>7B</strong></p></td>
<td><p>33-34</p></td>
<td><p>Definisi fungsi feature selection</p></td>
<td><p>‚≠ê Sangat disarankan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>7B</strong></p></td>
<td><p>35-37</p></td>
<td><p>Jalankan feature selection &amp; visualisasi</p></td>
<td><p>‚≠ê Sangat disarankan</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Output Fase 3:</strong> <code class="docutils literal notranslate"><span class="pre">audio_features_selected.csv</span></code> dengan ~30 features terbaik</p>
</section>
<section id="fase-4-preprocessing-modeling">
<h4><strong>FASE 4: PREPROCESSING &amp; MODELING</strong> ü§ñ<a class="headerlink" href="#fase-4-preprocessing-modeling" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Langkah</p></th>
<th class="head"><p>Cell</p></th>
<th class="head"><p>Deskripsi</p></th>
<th class="head"><p>Wajib?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>8</strong></p></td>
<td><p>38-39</p></td>
<td><p>Preprocessing (split, encode, normalize)</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-odd"><td><p><strong>9</strong></p></td>
<td><p>40-41</p></td>
<td><p>Training 3 models (RF, SVM, KNN)</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-even"><td><p><strong>10</strong></p></td>
<td><p>42-43</p></td>
<td><p>Perbandingan performa model</p></td>
<td><p>‚úÖ Wajib</p></td>
</tr>
<tr class="row-odd"><td><p><strong>11</strong></p></td>
<td><p>44-45</p></td>
<td><p>Feature importance analysis</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
<tr class="row-even"><td><p><strong>12</strong></p></td>
<td><p>46-47</p></td>
<td><p>Save/load model</p></td>
<td><p>‚≠ê Sangat disarankan</p></td>
</tr>
<tr class="row-odd"><td><p><strong>13</strong></p></td>
<td><p>48-49</p></td>
<td><p>Prediksi audio baru</p></td>
<td><p>üîµ Opsional</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Output Fase 4:</strong> Trained model, scaler, label encoder</p>
</section>
<section id="fase-5-evaluasi-kesimpulan">
<h4><strong>FASE 5: EVALUASI &amp; KESIMPULAN</strong> üìù<a class="headerlink" href="#fase-5-evaluasi-kesimpulan" title="Link to this heading">#</a></h4>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Langkah</p></th>
<th class="head"><p>Cell</p></th>
<th class="head"><p>Deskripsi</p></th>
<th class="head"><p>Wajib?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>14</strong></p></td>
<td><p>50-51</p></td>
<td><p>Kesimpulan &amp; ringkasan hasil</p></td>
<td><p>üìñ Dokumentasi</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<hr class="docutils" />
<section id="contoh-kode-eksekusi-lengkap">
<h3><strong>‚ö° CONTOH KODE EKSEKUSI LENGKAP</strong><a class="headerlink" href="#contoh-kode-eksekusi-lengkap" title="Link to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ===== FASE 1: EKSTRAKSI FEATURE =====</span>
<span class="c1"># (Jalankan cell 1-19 berurutan)</span>

<span class="c1"># ===== FASE 2: EDA (OPSIONAL) =====</span>
<span class="c1"># (Jalankan cell 20-32 untuk analisis mendalam)</span>

<span class="c1"># ===== FASE 3: FEATURE SELECTION =====</span>
<span class="n">df_selected</span><span class="p">,</span> <span class="n">selected_features</span><span class="p">,</span> <span class="n">feature_scores</span> <span class="o">=</span> <span class="n">perform_feature_selection</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> 
    <span class="n">variance_threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
    <span class="n">correlation_threshold</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span>
    <span class="n">k_best</span><span class="o">=</span><span class="mi">30</span>
<span class="p">)</span>
<span class="n">plot_feature_scores</span><span class="p">(</span><span class="n">feature_scores</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># ===== FASE 4: PREPROCESSING =====</span>
<span class="c1"># PILIH SALAH SATU:</span>
<span class="c1"># Option 1: Gunakan ALL features (55 features)</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span> <span class="o">=</span> <span class="n">prepare_data</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="c1"># Option 2: Gunakan SELECTED features (30 features) - RECOMMENDED</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span> <span class="o">=</span> <span class="n">prepare_data</span><span class="p">(</span><span class="n">df_selected</span><span class="p">)</span>

<span class="c1"># ===== FASE 5: TRAINING =====</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">train_and_evaluate_models</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">)</span>

<span class="c1"># ===== FASE 6: EVALUASI =====</span>
<span class="n">comparison_df</span> <span class="o">=</span> <span class="n">compare_models</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># ===== FASE 7: FEATURE IMPORTANCE =====</span>
<span class="n">best_model</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="s1">&#39;Random Forest&#39;</span><span class="p">][</span><span class="s1">&#39;model&#39;</span><span class="p">]</span>
<span class="c1"># Sesuaikan dengan dataset yang digunakan</span>
<span class="n">feature_names</span> <span class="o">=</span> <span class="n">df_selected</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;label&#39;</span><span class="p">,</span> <span class="s1">&#39;filename&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">columns</span>
<span class="n">analyze_feature_importance</span><span class="p">(</span><span class="n">best_model</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">,</span> <span class="n">top_n</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># ===== FASE 8: SAVE MODEL =====</span>
<span class="n">save_model</span><span class="p">(</span><span class="n">best_model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">,</span> <span class="s1">&#39;audio_classifier_RF&#39;</span><span class="p">)</span>

<span class="c1"># ===== FASE 9: PREDIKSI AUDIO BARU =====</span>
<span class="n">model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span> <span class="o">=</span> <span class="n">load_model</span><span class="p">(</span><span class="s1">&#39;audio_classifier_RF&#39;</span><span class="p">)</span>
<span class="n">prediction</span><span class="p">,</span> <span class="n">prob</span> <span class="o">=</span> <span class="n">predict_audio</span><span class="p">(</span><span class="s1">&#39;test_audio.wav&#39;</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">scaler</span><span class="p">,</span> <span class="n">label_encoder</span><span class="p">)</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="tips-best-practices">
<h3><strong>üí° TIPS &amp; BEST PRACTICES</strong><a class="headerlink" href="#tips-best-practices" title="Link to this heading">#</a></h3>
<ol class="arabic simple">
<li><p><strong>Feature Selection</strong>: Gunakan <code class="docutils literal notranslate"><span class="pre">df_selected</span></code> untuk model yang lebih efisien</p></li>
<li><p><strong>Hyperparameter</strong>: Untuk hasil optimal, lakukan GridSearchCV untuk tuning</p></li>
<li><p><strong>Cross-validation</strong>: CV scores lebih reliable daripada single test accuracy</p></li>
<li><p><strong>Save Everything</strong>: Simpan model, scaler, dan label_encoder untuk deployment</p></li>
<li><p><strong>Documentation</strong>: Catat hasil accuracy dan parameter untuk reproducibility</p></li>
</ol>
</section>
<hr class="docutils" />
<section id="troubleshooting">
<h3><strong>‚ùì TROUBLESHOOTING</strong><a class="headerlink" href="#troubleshooting" title="Link to this heading">#</a></h3>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Error</p></th>
<th class="head"><p>Solusi</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NameError:</span> <span class="pre">df</span> <span class="pre">not</span> <span class="pre">defined</span></code></p></td>
<td><p>Jalankan cell 19 untuk create dataset</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NameError:</span> <span class="pre">df_selected</span> <span class="pre">not</span> <span class="pre">defined</span></code></p></td>
<td><p>Jalankan cell 37 untuk feature selection</p></td>
</tr>
<tr class="row-even"><td><p>Feature mismatch saat prediksi</p></td>
<td><p>Gunakan scaler yang sama dengan training</p></td>
</tr>
<tr class="row-odd"><td><p>Low accuracy</p></td>
<td><p>Coba feature selection atau hyperparameter tuning</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./tugas/_build/jupyter_execute"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deskripsi-project">Deskripsi Project</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tujuan">Tujuan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-1-import-library">Langkah 1: Import Library</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-2-load-dan-eksplorasi-data-audio">Langkah 2: Load dan Eksplorasi Data Audio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-sample-audio">Visualisasi Sample Audio</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-3-fungsi-load-audio">Langkah 3: Fungsi Load Audio</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-4-ekstraksi-feature-statistik-time-series">Langkah 4: Ekstraksi Feature Statistik Time Series</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-5-ekstraksi-feature-spektral">Langkah 5: Ekstraksi Feature Spektral</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-6-pembuatan-dataset-dari-audio">Langkah 6: Pembuatan Dataset dari Audio</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jalankan-ekstraksi-feature">Jalankan Ekstraksi Feature</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-7-eksplorasi-data-feature">Langkah 7: Eksplorasi Data Feature</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-distribusi-label">Visualisasi Distribusi Label</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribusi-feature-penting">Distribusi Feature Penting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#box-plot-deteksi-outliers">Box Plot - Deteksi Outliers</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation-matrix-hubungan-antar-feature">Correlation Matrix - Hubungan Antar Feature</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pair-plot-visualisasi-hubungan-antar-feature">Pair Plot - Visualisasi Hubungan Antar Feature</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ringkasan-eda">üìã Ringkasan EDA</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-7b-feature-selection">Langkah 7B: Feature Selection</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-feature-scores">Visualisasi Feature Scores</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jalankan-feature-selection">Jalankan Feature Selection</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-8-preprocessing-data">Langkah 8: Preprocessing Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-9-training-model-klasifikasi">Langkah 9: Training Model Klasifikasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-10-perbandingan-model">Langkah 10: Perbandingan Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-11-feature-importance-analysis">Langkah 11: Feature Importance Analysis</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-12-save-model">Langkah 12: Save Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-13-prediksi-audio-baru">Langkah 13: Prediksi Audio Baru</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#langkah-14-kesimpulan-dan-ringkasan-hasil">Langkah 14: Kesimpulan dan Ringkasan Hasil</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ringkasan-dataset">Ringkasan Dataset</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-analisis-eda">Hasil Analisis EDA</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#performa-model">Performa Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-importance">Feature Importance</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan">Kesimpulan</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#feature-selection">üîß Feature Selection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#rekomendasi-pengembangan">üí° Rekomendasi Pengembangan</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#aplikasi-praktis">üöÄ Aplikasi Praktis</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#workflow-guide-urutan-eksekusi-lengkap">üìã WORKFLOW GUIDE - Urutan Eksekusi Lengkap</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#quick-start-minimal-execution-path"><strong>üéØ QUICK START - Minimal Execution Path</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complete-workflow-step-by-step"><strong>üìö COMPLETE WORKFLOW - Step by Step</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-1-setup-ekstraksi-feature"><strong>FASE 1: SETUP &amp; EKSTRAKSI FEATURE</strong> ‚úÖ</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-2-exploratory-data-analysis-eda"><strong>FASE 2: EXPLORATORY DATA ANALYSIS (EDA)</strong> üìä</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-3-feature-selection"><strong>FASE 3: FEATURE SELECTION</strong> üîç</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-4-preprocessing-modeling"><strong>FASE 4: PREPROCESSING &amp; MODELING</strong> ü§ñ</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#fase-5-evaluasi-kesimpulan"><strong>FASE 5: EVALUASI &amp; KESIMPULAN</strong> üìù</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#contoh-kode-eksekusi-lengkap"><strong>‚ö° CONTOH KODE EKSEKUSI LENGKAP</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tips-best-practices"><strong>üí° TIPS &amp; BEST PRACTICES</strong></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#troubleshooting"><strong>‚ùì TROUBLESHOOTING</strong></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>